name       : volume_key
version    : 0.3.9
release    : 3
source     :
    - https://github.com/felixonmars/volume_key/archive/volume_key-0.3.9.tar.gz : 0586cdb41e6f623f0f76ef2bbf08c3e84354990b02aec1c1cc242fdbb88355d2
license    : GPL-2.0-or-later
component  : system.utils
summary    : An utility for manipulating storage encryption keys and passphrases
description: |
    This package provides a command-line tool for manipulating storage volume
    encryption keys and storing them separately from volumes.

    The main goal of the software is to allow restoring access to an encrypted
    hard drive if the primary user forgets the passphrase.  The encryption key
    back up can also be useful for extracting data after a hardware or software
    failure that corrupts the header of the encrypted volume, or to access the
    company data after an employee leaves abruptly.
builddeps  :
    - pkgconfig(libcryptsetup)
    - pkgconfig(nss)
    - gpgme-devel
    - libassuan-devel
    - swig
setup      : |
    %patch -p1 < $pkgfiles/volume_key-0.3.9-config.h.patch
    %patch -p1 < $pkgfiles/volume_key-0.3.9-fips-crash.patch
    %patch -p1 < $pkgfiles/volume_key-0.3.9-find_python.patch
    %reconfigure PYTHON=python3
build      : |
    %make
install    : |
    %make_install
